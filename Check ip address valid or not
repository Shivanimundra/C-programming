/******************************************************************************

Welcome to GDB Online.
GDB online is an online compiler and debugger tool for C, C++, Python, PHP, Ruby, 
C#, VB, Perl, Swift, Prolog, Javascript, Pascal, HTML, CSS, JS
Code, Compile, Run and Debug online from anywhere in world.

*******************************************************************************/
#include<stdio.h>
#include <string.h>
int count=0;
static int t=0;
int a=0,b=0,c=0;
int main() {
   char string[50] = "00003.204.32.2";
   // Extract the first token
   char * token = strtok(string, ".");
   
   while( token != NULL )
   {
       if(token[0]!= '0' && strlen(token)>3)
       {
              break;
       }
       while(token[t]==48)
       {
           t++;
           
       }
       
       if(t!=0)
       {
           int l = (strlen(token))-t;
           t=0;
             switch(l)
           {
              case 1:
                        c= (token[0]-48);
                        break;
                    
              case 2:
                        b = (token[0]-48)*10;
                        c= b+(token[1]-48);
                        break;
              case 3:
                        a = (token[0]-48)*100;
                        b = a+(token[1]-48)*10;
                       
                        c= b+(token[2]-48);
                        break;
           }  
               
           
       }
       switch(strlen(token))
       {
          case 1:
                    c= (token[0]-48);
                    break;
                
          case 2:
                    b = (token[0]-48)*10;
                    c= b+(token[1]-48);
                    break;
          case 3:
                    a = (token[0]-48)*100;
                    b = a+(token[1]-48)*10;
                   
                    c= b+(token[2]-48);
                    break;
       }
       if(c<255)
      {
          count++;
          a=b=c=0;
      }
      token = strtok(NULL, ".");
   }
   if(count==4)
   {
     count=0;  
     printf("valid ip address");
   }
   else
   {
       printf("invalid");
   }
   return 0;
}


